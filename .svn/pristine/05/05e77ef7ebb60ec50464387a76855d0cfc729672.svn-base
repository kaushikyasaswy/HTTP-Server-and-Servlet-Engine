package edu.upenn.cis.cis455.webserver;


import javax.servlet.*;
import javax.servlet.http.*;
import java.io.*;

public class Cookie_Servlet3 extends HttpServlet {
	protected void doGet(HttpServletRequest request,
			HttpServletResponse response) throws ServletException, IOException {
		Cookie[] cookies = request.getCookies();
		Cookie c = null;
		if (cookies != null) {
			for (int i = 0; i < cookies.length; ++i) {
				if (cookies[i].getName().equals("TestCookie")) {
					c = cookies[i];
				}
			}
		}
		response.setContentType("text/html");
		PrintWriter out = response.getWriter();
		out.write("<HTML><HEAD><TITLE>Cookie Servlet 3</TITLE></HEAD><BODY>");
		if (c == null) {
			out.write("<P>Cookie 'TestCookie' had been sucessfully deleted by client.</P>");
		} else {
			out.write("<P>Uh-oh, cookie 'TestCookie' is still on client!</P>");
		}
		out.write("</BODY></HTML>");
	}
}
